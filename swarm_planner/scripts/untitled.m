
close all; clc; clear;

poly_samples=[];
times_samples=[];

for segment=1:16
    for t=0:0.01:0.1
    total_time=(segment-1)*0.1 + t;
    T4=[t^4 t^3 t^2 t 1]';

    poly=[20.0272 -64.0869  51.2695        0        0   ]*T4*(total_time<=0.1)     + ...
    [20.0272  -56.076  33.2451  8.41141 0.450611    ]*T4*(0.1<total_time && total_time<=0.2)   + ...
    [ 20.0272 -48.0652  17.6239  13.4583  1.57013   ]*T4*(0.2<total_time && total_time<=0.3)  +   ...
    [ 20.0272 -40.0543  4.40598  15.6212  3.04613  ]*T4*(0.3<total_time && total_time<=0.4)  +  ...
    [ 20.0272 -32.0435 -6.40869  15.3809  4.61426   ]*T4*(0.4<total_time && total_time<=0.5)   + ...
    [ 20.0272 -24.0326 -14.8201  13.2179  6.05822   ]*T4*(0.5<total_time && total_time<=0.6)  +  ...
    [ 20.0272 -16.0217 -20.8282  9.61304  7.20978   ]*T4*(0.6<total_time && total_time<=0.7)   + ...
    [ 20.0272 -8.01086 -24.4331  5.04684  7.94878    ]*T4*(0.7<total_time && total_time<=0.8)   +...
    [ 20.0272  2.1905e-07    -25.6348 5.03223e-09     8.20312   ]*T4*(0.8<total_time && total_time<=0.9)   +   ...
    [ 20.0272  8.01086 -24.4331 -5.04684  7.94878      ]*T4*(0.9<total_time && total_time<=1.0)  +...
    [ 20.0272  16.0217 -20.8282 -9.61304  7.20978    ]*T4*(1.1<total_time && total_time<=1.2)   +...
    [ 20.0272  24.0326 -14.8201 -13.2179  6.05822   ]*T4*(1.2<total_time && total_time<=1.3)   +...
    [ 20.0272  32.0435 -6.40869 -15.3809  4.61426   ]*T4*(1.3<total_time && total_time<=1.4)   + ...
    [ 20.0272  40.0543  4.40598 -15.6212  3.04613   ]*T4*(1.4<total_time && total_time<=1.5)   +  ...
    [ 20.0272  48.0652  17.6239 -13.4583  1.57013   ]*T4*(1.5<total_time && total_time<=1.6)   +  ...
    [ 20.0272   56.076  33.2451 -8.41141 0.450611   ]*T4*(1.6<total_time && total_time<=1.7)   ;

    poly_samples=[poly_samples poly];
    times_samples=[times_samples total_time];

    end
end
plot(times_samples,poly_samples)